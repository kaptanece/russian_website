<?php
// Database connection details are assumed to be passed from login.php
if (!isset($conn)) {
  die("Database connection is missing.");
}

// Retrieve raw user inputs (no sanitization, vulnerable)

// Retrieve raw user inputs (no sanitization, vulnerable)
$input_username = isset($_POST['username']) ? $_POST['username'] : ''; // No sanitization, raw data
$input_password = isset($_POST['password']) ? $_POST['password'] : ''; // No sanitization, raw data

// Vulnerable SQL query with unsanitized inputs
$sql = "SELECT * FROM users WHERE username = '" . $input_username . "' OR '1'='1' -- ' AND password = '" . $input_password . "';";



$debug_query = $sql;
// Execute the query
$result = $conn->query($sql);


// Note: The query will be vulnerable to SQL injection
// If any user data is found, we will proceed to check the password
?>
